import{r as t,a as S,c as y}from"./vendor.4b61f776.js";import{j as n}from"./index.ed08cc07.js";function T(e){const[s,r]=t.exports.useState(!0);return t.exports.useEffect(()=>{e.delay<0&&setTimeout(()=>{r(!1)},e.delay)},[e.delay]),s?n("div",{children:e.children}):n("div",{children:"Secret Cannot be Reachable!"})}function b(e){const[s,r]=t.exports.useState(""),[c,o]=t.exports.useState(""),a={method:"get",url:`https://api-my-secret-server.herokuapp.com/secrets/${e}`};return t.exports.useEffect(()=>{S(a).then(i=>{r(i.data.result.expiresAt),o(i.data.result.secretText)})},[e]),{secretText:c,expireAt:s}}function A(){const e=new Date;let s=null;const[r,c]=t.exports.useState("");let{hash:o}=y();const{expireAt:a,secretText:i}=b(o);return t.exports.useEffect(()=>{const[d,l]=a.split(" ").map(u=>u.trim()),[f,p,x]=d.split(".");if(l){const[u,m,h]=l.split(":");s=new Date(Number(x),p-1,Number(f),u,m,h),c(Math.floor(parseInt(s.getTime()-e.getTime())/1e3)*100)}},[a]),n("div",{children:n(T,{delay:r,children:i})})}export{A as default};
